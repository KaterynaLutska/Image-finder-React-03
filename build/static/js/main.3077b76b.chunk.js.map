{"version":3,"sources":["components/Container/Container.jsx","components/services/services.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","App.js","index.js"],"names":["Container","children","className","axios","defaults","baseURL","searchQuery","currentPage","get","Searchbar","state","query","hanldeChange","e","preventDefault","setState","currentTarget","value","handleSubmit","props","onSubmit","reset","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","onImgClick","src","alt","onClick","modalRoot","document","querySelector","Modal","handleKeyDown","code","toggleModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","ImageGallery","showModal","onClickModal","image","map","el","id","Button","LoaderApp","color","height","width","App","images","error","isLoading","isLastPage","onChangeQuery","data","totalImage","fetchImages","options","services","then","response","total","lastPage","hits","prevState","catch","finally","Math","ceil","prevProps","length","scrollBy","top","innerHeight","behavior","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3077b76b.chunk.js","sourcesContent":["import s from './Container.css';\n\nconst Container = ({ children }) => {\n  return <div className=\"Container\">{children}</div>;\n};\n\nexport default Container;\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com/api';\nlet key = '20640167-ac9474fef7102afb7f97f325e';\n\nconst fetchImages = ({ searchQuery = '', currentPage = 1 }) => {\n  return axios.get(\n    `/?q=${searchQuery}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=12&key=${key}`,\n  );\n};\n\nexport default { fetchImages };\n","import axios from 'axios';\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  hanldeChange = e => {\n    e.preventDefault();\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { query } = this.state;\n\n    this.props.onSubmit(query);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.hanldeChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func,\n  query: PropTypes.string,\n};\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ImageGalleryItem extends Component {\n  render() {\n    const { webformatURL, largeImageURL, tags, onImgClick } = this.props;\n    return (\n      <li className=\"ImageGalleryItem\">\n        <img\n          className=\"ImageGalleryItem-image\"\n          src={webformatURL}\n          alt={tags}\n          onClick={() => {\n            onImgClick(largeImageURL);\n          }}\n        />\n      </li>\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  largeImageURL: PropTypes.string.isRequired,\n  onImgClick: PropTypes.func,\n};\nexport default ImageGalleryItem;\n","import { createPortal } from 'react-dom';\nimport { Component } from 'react';\n\nimport PropTypes from 'prop-types';\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.toggleModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nexport default Modal;\n\nModal.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Modal from '../Modal';\n\nclass ImageGallery extends Component {\n  state = {\n    largeImageURL: '',\n    showModal: false,\n  };\n\n  onClickModal = largeImageURL => {\n    this.toggleModal();\n    this.setState({ largeImageURL: largeImageURL });\n  };\n\n  toggleModal = () => {\n    this.setState({\n      showModal: !this.state.showModal,\n    });\n  };\n\n  render() {\n    const { image } = this.props;\n    const { largeImageURL } = this.state;\n\n    return (\n      <ul className=\"ImageGallery\">\n        {this.state.showModal && (\n          <Modal toggleModal={this.toggleModal}>\n            <img src={largeImageURL} alt=\"alt\" />\n          </Modal>\n        )}\n        {image.map(el => (\n          <ImageGalleryItem\n            key={el.id}\n            id={el.id}\n            tags={el.tags}\n            onImgClick={this.onClickModal}\n            webformatURL={el.webformatURL}\n            largeImageURL={el.largeImageURL}\n          ></ImageGalleryItem>\n        ))}\n      </ul>\n    );\n  }\n}\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  image: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n  onClickModal: PropTypes.func,\n};\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Button extends Component {\n  render() {\n    const { onClick } = this.props;\n\n    return (\n      <div className=\"Button-wraper\">\n        <button className=\"Button\" type=\"button\" onClick={onClick}>\n          Load more...\n        </button>\n      </div>\n    );\n  }\n}\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import Loader from 'react-loader-spinner';\nimport { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass LoaderApp extends Component {\n  render() {\n    return (\n      <Loader\n        className=\"Loader\"\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n      />\n    );\n  }\n}\n\nexport default LoaderApp;\n","import './App.css';\nimport { Component } from 'react';\n\nimport Container from './components/Container';\nimport services from './components/services';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport LoaderApp from './components/Loader';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    error: null,\n    isLoading: false,\n    isLastPage: false,\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n    if (this.state.images.length > 12) {\n      window.scrollBy({\n        top: window.innerHeight - 180,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onChangeQuery = data => {\n    this.setState({\n      searchQuery: data,\n      currentPage: 1,\n      images: [],\n      error: null,\n      totalImage: 0,\n    });\n  };\n  fetchImages = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n    this.setState({ isLoading: true });\n    services\n      .fetchImages(options)\n      .then(response => {\n        this.setState({ totalImage: response.data.total });\n        this.lastPage();\n        return response.data.hits;\n      })\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() =>\n        this.setState({\n          isLoading: false,\n        }),\n      );\n  };\n\n  lastPage = () => {\n    const { totalImage, currentPage } = this.state;\n\n    if (currentPage === Math.ceil(totalImage / 12)) {\n      this.setState({\n        isLastPage: true,\n      });\n    } else {\n      this.setState({\n        // isLoading: false,\n        isLastPage: false,\n      });\n    }\n  };\n\n  render() {\n    const { isLastPage, isLoading, error, images } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Container>\n          <Searchbar onSubmit={this.onChangeQuery}></Searchbar>\n          {error && <h1>Error</h1>}\n          <ImageGallery image={this.state.images}></ImageGallery>\n          {isLoading && <LoaderApp />}\n          {!isLastPage && images.length > 0 && (\n            <Button onClick={this.fetchImages} />\n          )}\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}